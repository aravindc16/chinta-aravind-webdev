
<div layout="column" layout-fill>

    <section layout="row" flex layout-fill>
        <!--Side nav -->
        <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2"
                    md-component-id="left" md-whiteframe="3" md-is-locked-open="$mdMedia('gt-xs')"
                    style="margin-bottom: -50px;">
            <md-toolbar class="md-hue-2" md-whiteframe="10">
                <div class="md-toolbar-tools">
                    <md-button class="md-icon-button md-primary"
                               href="#/user/{{model.userId}}/website/{{model.websiteId}}/page">
                        <md-icon md-svg-icon="icons/back.svg" aria-label="back to page list"></md-icon>
                    </md-button>
                    <h4>Pages</h4>
                </div>
            </md-toolbar>
            <md-content layout-padding>
                <md-list-item ng-repeat="page in model.pages"
                              href="#/user/{{model.userId}}/website/{{model.websiteId}}/page/{{page._id}}/widget">
                    {{page.name}}
                    <span flex></span>
                    <md-button class="md-icon-button md-primary"
                               href="#/user/{{model.userId}}/website/{{model.websiteId}}/page/{{page._id}}">
                        <md-icon md-svg-icon="icons/settings.svg" aria-label="edit page"></md-icon>
                    </md-button>
                    <md-divider></md-divider>
                </md-list-item>
            </md-content>
        </md-sidenav>


        <!--Other area next to sidenav-->
        <div layout="column" layout-fill>
            <header>
                <md-toolbar class="md-hue-2" flex md-whiteframe="10">
                    <div class="md-toolbar-tools">
                        <md-button class="md-icon-button md-primary"
                                   href="#/user/{{model.userId}}/website/{{model.websiteId}}/page" hide-gt-xs>
                            <md-icon md-svg-icon="icons/back.svg" aria-label="back to page list"></md-icon>
                        </md-button>
                        <h4>Edit Page </h4><span flex></span>
                        <md-button class="md-icon-button md-primary" ng-click="model.updatePage(model.page)">
                            <md-icon md-svg-icon="icons/done.svg" aria-label="save page"></md-icon>
                        </md-button>
                        <md-button class="md-icon-button md-primary" ng-click="model.deletePage()">
                            <md-icon md-svg-icon="icons/delete.svg" aria-label="delete page"></md-icon>
                        </md-button>
                    </div>
                </md-toolbar>
            </header>
            <!--New website form-->
            <md-content flex>
                <main flex>
                    <md-content class="md-inline-form" layout-padding flex>
                        <div>
                            <md-input-container class="md-block" flex md-no-float>
                                <label> Name </label>
                                <input ng-model="model.page.name" type="text" required/>
                            </md-input-container>
                            <md-input-container class="md-block" flex md-no-float>
                                <label> Title </label>
                                <input ng-model="model.page.title" type="text" />
                            </md-input-container>
                        </div>
                    </md-content>
                </main>
            </md-content>
        </div>
    </section>
    <!--Fixed bottom footer-->
    <footer class="sticky-footer">
        <md-toolbar class="md-hue-2" md-scroll-shrink id="toolbar-color">
            <div class="md-toolbar-tools">
                <span flex></span>
                <span><md-button class="md-icon-button md-primary" href="#/user/{{model.userId}}">
                    <md-icon md-svg-icon="icons/person.svg" aria-label="profile page"></md-icon>
                </md-button></span>
            </div>
        </md-toolbar>
    </footer>
</div>
