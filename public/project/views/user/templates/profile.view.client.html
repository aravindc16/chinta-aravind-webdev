<div>
    <header>
        <md-toolbar style="background-color: rgba(41, 38, 140, 0.49);" md-scroll-shrink md-whiteframe="10">
            <div class="md-toolbar-tools">
                <a href="#/" ng-if="!model.userId">
                    <img width="40%" height="40%" ng-src="http://www.foodforthoughtmt.com/wp-content/uploads/2015/03/food_for_thought_logo.png">
                </a>
                <a href="#/{{model.userId}}" ng-if="model.userId">
                    <img width="40%" height="40%" ng-src="http://www.foodforthoughtmt.com/wp-content/uploads/2015/03/food_for_thought_logo.png">
                </a>
                <span flex></span>
                <md-button href="#/">
                    Logout
                </md-button>
            </div>
        </md-toolbar>
    </header>

<!--Profile-->
    <md-card style="height:60%;margin-top: 20px;font-family: 'Sansita', sans-serif;">
        <md-card-content>
            <div layout="row" layout-padding>

                <div layout="column">
                    <!--model.avatar shows the first char of firstName and the first of lastName-->
                    <div layout="column" layout-align="center center" class="postAvatar">
                        <h1 style="font-size: 50px;left: 35px; bottom: 10px; position: relative;">{{model.avatar}}</h1>
                    </div>
                    <h1>
                        {{model.user.firstName}} {{model.user.lastName}}
                    </h1>
                    <p>{{model.user.email}} <br>
                        {{model.city}}</p>
                </div>

                <span flex></span>

                <div layout="column">
                    <ng-map style="height:100%; width:400px;" center="[{{model.lat}}, {{model.long}}]">
                    </ng-map>
                </div>
            </div>
        </md-card-content>
        <md-card-actions>
            <md-button class="md-icon-button" href="#/user/{{model.userId}}/edit" aria-label="edit profile">
                <md-icon md-svg-icon="icons/create_black.svg">
                </md-icon>
            </md-button>
            <md-button class="md-icon-button" ng-click="model.deleteUser()" aria-label="edit profile">
                <md-icon md-svg-icon="icons/delete_black.svg">
                </md-icon>
            </md-button>
            <md-button class="md-icon-button" ng-show="model.user.role == 'ADMIN'" href="#/admin" aria-label="admin page">
                <md-icon md-svg-icon="icons/person_black.svg">
                </md-icon>
            </md-button>
        </md-card-actions>
    </md-card>
    <!--Favourites-->
    <md-card style="height: 400px;font-family: 'Sansita', sans-serif;">
        <md-card-content>
            <strong>Your Reviews</strong><br>
            <div layout="column" ng-repeat="review in model.reviews">
                @{{review.restaurantName}}
                <i>{{review.review}}</i>
                <br>
            </div>
            <strong>Your Favourites</strong>
            <div layout="column" ng-repeat="favorite in model.user.favourites">
                <ul><li><a href="#/details/{{favorite.id}}/user/{{model.userId}}">{{favorite.restaurantName}}</a></li></ul>
            </div>
        </md-card-content>
    </md-card>

</div>